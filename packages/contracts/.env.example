# StoryHouse 5-Contract Architecture Environment Configuration

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================

# Story Protocol Aeneid Testnet
STORY_RPC_URL=https://aeneid.storyrpc.io
STORY_CHAIN_ID=1315
STORY_EXPLORER=https://aeneid.storyscan.xyz

# Local Development
LOCAL_RPC_URL=http://localhost:8545
LOCAL_CHAIN_ID=31337

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Deployer private key (NEVER commit real private keys!)
PRIVATE_KEY=your_private_key_here

# Etherscan/Explorer API key for verification
ETHERSCAN_API_KEY=your_etherscan_api_key_here

# =============================================================================
# EXISTING CONTRACT ADDRESSES (Story Protocol Aeneid Testnet)
# =============================================================================

# Known deployed contracts that we can reuse
TIP_TOKEN_ADDRESS=0xe5Cd6E2392eB0854F207Ad474ee9FB98d80C934E
REWARDS_MANAGER_ADDRESS=0xf5ae031ba92295c2ae86a99e88f09989339707e5

# New contracts to be deployed (will be populated after deployment)
UNIFIED_REWARDS_CONTROLLER_ADDRESS=
CHAPTER_ACCESS_CONTROLLER_ADDRESS=
HYBRID_REVENUE_CONTROLLER_ADDRESS=

# =============================================================================
# LEGACY CONTRACT ADDRESSES (For Reference/Migration)
# =============================================================================

# Legacy contracts from old 6-contract architecture
LEGACY_ACCESS_CONTROL_MANAGER=0x41e2db0d016e83ddc3c464ffd260d22a6c898341
LEGACY_CREATOR_REWARDS_CONTROLLER=0x8e2d21d1b9c744f772f15a7007de3d5757eea333
LEGACY_READ_REWARDS_CONTROLLER=0x04553ba8316d407b1c58b99172956d2d5fe100e5
LEGACY_REMIX_LICENSING_CONTROLLER=0x16144746a33d9a172039efc64bc2e12445fbbef2

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================

# Test account addresses (for testing purposes)
TEST_DEPLOYER=0xD9b6d1bd7D8A90915B905EB801c55bA5De1d4476
TEST_USER_1=0x1234567890123456789012345678901234567890
TEST_USER_2=0x2345678901234567890123456789012345678901
TEST_CREATOR=0x3456789012345678901234567890123456789012

# Test parameters
TEST_STORY_ID=0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef
TEST_CHAPTER_NUMBER=1
TEST_REWARD_AMOUNT=1000000000000000000

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Gas limits and safety parameters
MAX_GAS_PRICE=50000000000
MAX_GAS_LIMIT=15000000
DEPLOYMENT_TIMEOUT=600

# Circuit breaker parameters
DAILY_REWARD_CAP=10000000000000000000000
MAX_READING_CHAPTERS_PER_DAY=20
MIN_READING_TIME_SECONDS=60

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable specific features during deployment
ENABLE_CIRCUIT_BREAKERS=true
ENABLE_EMERGENCY_PAUSE=true
ENABLE_BATCH_OPERATIONS=true
ENABLE_QUALITY_SCORING=true

# =============================================================================
# MONITORING & ALERTING
# =============================================================================

# Monitoring configuration (for production)
MONITORING_ENABLED=false
ALERT_WEBHOOK_URL=
PERFORMANCE_TRACKING=false

# =============================================================================
# DEPLOYMENT NOTES
# =============================================================================

# Architecture: 5-Contract Optimized System
# - TIPToken: Platform token with controlled minting
# - RewardsManager: Central reward orchestrator  
# - UnifiedRewardsController: Reading/Creation/Remix rewards (20.4KB)
# - ChapterAccessController: Chapter monetization (15.3KB)
# - HybridRevenueController: Multi-author revenue sharing (16.0KB)
#
# Benefits:
# - 44% contract reduction (9â†’5 contracts)
# - Gas optimized batch operations
# - Integrated AccessControl (no standalone manager)
# - Unified reward logic reduces cross-contract calls
#
# Usage:
# 1. Copy this file to .env
# 2. Fill in your private key and API keys
# 3. Run: npm run deploy:5-contract:testnet
# 4. Verify: npm run verify:deployment